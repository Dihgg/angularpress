<article *ngIf="post" class="block-post">
  <div
    class="row"
    [class.flex-row-reverse]="attrs.featuredImageAlign === 'right'"
  >
    <div
      *ngIf="attrs.displayFeaturedImage && post.thumbnail"
      class="block-post__thumbnail col-12"
      [class.col-sm-4]="
        attrs.featuredImageAlign == 'left' ||
        attrs.featuredImageAlign == 'right'
      "
    >
      <a [routerLink]="wordpress.routerLink(post.url)">
        <picture *ngIf="thumbnail" class="block-post__image theme--menu-bg">
          <source
            *ngIf="thumbnail['full']"
            media="(min-width:1200px)"
            [attr.srcset]="thumbnail['full'].url"
          />
          <source
            *ngIf="thumbnail['large']"
            media="(min-width:1024px)"
            [attr.srcset]="thumbnail['large'].url"
          />
          <source
            *ngIf="thumbnail['medium']"
            media="(min-width:768px)"
            [attr.srcset]="thumbnail['medium'].url"
          />
          <img
            *ngIf="thumbnail['thumbnail']"
            [src]="thumbnail['thumbnail'].url"
            [alt]="thumbnail['thumbnail'].caption"
          />
        </picture>
        <app-loading
          *ngIf="!thumbnail"
          [loading]="!thumbnail"
          class="block-post__image"
        ></app-loading>
      </a>
    </div>
    <div
      class="block-post__info col-12 py-2"
      [class.col-sm-8]="
        attrs.featuredImageAlign == 'left' ||
        attrs.featuredImageAlign == 'right'
      "
    >
      <a
        *ngIf="category"
        class="block-post__category"
        [routerLink]="wordpress.routerLink(category.link)"
      >
        <strong>{{ category.name }}</strong>
      </a>
      <h1 class="block-post__title my-2">
        <a [routerLink]="wordpress.routerLink(post.url)" [innerHTML]="post.title">
        </a>
      </h1>
      <time *ngIf="attrs.showDate" class="my-2" [attr.datetime]="post.date">
        <a [routerLink]="wordpress.routerLink(post.url)">{{
          post.date_formatted
        }}</a>
      </time>
      <div *ngIf="attrs.showContent" class="block-post__content">
        <p class="block-post__content__text my-2">
          <a [routerLink]="wordpress.routerLink(post.url)">
            <ng-container [ngSwitch]="attrs.contentType">
              <ng-container *ngSwitchCase="'excerpt'">
                {{ post.excerpt | truncate: attrs.excerpt }}
              </ng-container>
              <ng-container *ngSwitchCase="'full_post'">
                {{ post.content }}
              </ng-container>
            </ng-container>
          </a>
        </p>
        <nav *ngIf="tags" class="block-post__content__tags">
          <a *ngFor="let tag of tags" [routerLink]="tag.link">
            <small>#{{ tag.name }}</small
            >&nbsp;
          </a>
        </nav>
      </div>
    </div>
  </div>
</article>
